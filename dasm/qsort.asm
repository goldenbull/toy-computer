; Listing generated by Microsoft (R) Optimizing Compiler Version 19.44.35219.0 

include listing.inc

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	__local_stdio_printf_options
PUBLIC	_vfprintf_l
PUBLIC	printf
PUBLIC	partition
PUBLIC	partition2
PUBLIC	quicksort
PUBLIC	main
EXTRN	__acrt_iob_func:PROC
EXTRN	__stdio_common_vfprintf:PROC
EXTRN	rand:PROC
EXTRN	__GSHandlerCheck:PROC
EXTRN	__security_check_cookie:PROC
EXTRN	__security_cookie:QWORD
_DATA	SEGMENT
COMM	?_OptionsStorage@?1??__local_stdio_printf_options@@9@9:QWORD							; `__local_stdio_printf_options'::`2'::_OptionsStorage
_DATA	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$_vfprintf_l DD imagerel $LN3
	DD	imagerel $LN3+67
	DD	imagerel $unwind$_vfprintf_l
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$printf DD imagerel $LN3
	DD	imagerel $LN3+87
	DD	imagerel $unwind$printf
pdata	ENDS
pdata	SEGMENT
$pdata$partition DD imagerel $LN7
	DD	imagerel $LN7+238
	DD	imagerel $unwind$partition
$pdata$partition2 DD imagerel $LN5
	DD	imagerel $LN5+240
	DD	imagerel $unwind$partition2
$pdata$quicksort DD imagerel $LN4
	DD	imagerel $LN4+105
	DD	imagerel $unwind$quicksort
$pdata$main DD	imagerel $LN9
	DD	imagerel $LN9+194
	DD	imagerel $unwind$main
pdata	ENDS
_DATA	SEGMENT
$SG10871 DB	'%d ', 00H
$SG10872 DB	0aH, 00H
_DATA	ENDS
voltbl	SEGMENT
_volmd	DD	0ffffffffH
	DDSymXIndex: 	FLAT:main
	DD	011H
	DD	0aaH
voltbl	ENDS
xdata	SEGMENT
$unwind$partition DD 011201H
	DD	02212H
$unwind$partition2 DD 011201H
	DD	02212H
$unwind$quicksort DD 011201H
	DD	06212H
$unwind$main DD	021919H
	DD	03b0107H
	DD	imagerel __GSHandlerCheck
	DD	01c0H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$printf DD 011801H
	DD	06218H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$_vfprintf_l DD 011801H
	DD	06218H
xdata	ENDS
; Function compile flags: /Odtp
; File D:\src\cpp0\qsort.c
_TEXT	SEGMENT
i$1 = 32
i$2 = 36
N$ = 40
data$ = 48
__$ArrayPad$ = 448
main	PROC

; 70   : {

$LN9:
	sub	rsp, 472				; 000001d8H
	mov	rax, QWORD PTR __security_cookie
	xor	rax, rsp
	mov	QWORD PTR __$ArrayPad$[rsp], rax

; 71   :     int N = 100;

	mov	DWORD PTR N$[rsp], 100			; 00000064H

; 72   :     int data[100];
; 73   :     for (int i = 0; i < N; ++i)

	mov	DWORD PTR i$1[rsp], 0
	jmp	SHORT $LN4@main
$LN2@main:
	mov	eax, DWORD PTR i$1[rsp]
	inc	eax
	mov	DWORD PTR i$1[rsp], eax
$LN4@main:
	mov	eax, DWORD PTR N$[rsp]
	cmp	DWORD PTR i$1[rsp], eax
	jge	SHORT $LN3@main

; 74   :     {
; 75   :         data[i] = rand();

	call	rand
	movsxd	rcx, DWORD PTR i$1[rsp]
	mov	DWORD PTR data$[rsp+rcx*4], eax

; 76   :     }

	jmp	SHORT $LN2@main
$LN3@main:

; 77   :
; 78   :     quicksort(data, 0, N - 1);

	mov	eax, DWORD PTR N$[rsp]
	dec	eax
	mov	r8d, eax
	xor	edx, edx
	lea	rcx, QWORD PTR data$[rsp]
	call	quicksort
	npad	1

; 79   :
; 80   :     for (int i = 0; i < N; ++i)

	mov	DWORD PTR i$2[rsp], 0
	jmp	SHORT $LN7@main
$LN5@main:
	mov	eax, DWORD PTR i$2[rsp]
	inc	eax
	mov	DWORD PTR i$2[rsp], eax
$LN7@main:
	mov	eax, DWORD PTR N$[rsp]
	cmp	DWORD PTR i$2[rsp], eax
	jge	SHORT $LN6@main

; 81   :     {
; 82   :         printf("%d ", data[i]);

	movsxd	rax, DWORD PTR i$2[rsp]
	mov	edx, DWORD PTR data$[rsp+rax*4]
	lea	rcx, OFFSET FLAT:$SG10871
	call	printf
	npad	1

; 83   :     }

	jmp	SHORT $LN5@main
$LN6@main:

; 84   :
; 85   :     printf("\n");

	lea	rcx, OFFSET FLAT:$SG10872
	call	printf
	npad	1

; 86   : }

	xor	eax, eax
	mov	rcx, QWORD PTR __$ArrayPad$[rsp]
	xor	rcx, rsp
	call	__security_check_cookie
	add	rsp, 472				; 000001d8H
	ret	0
main	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File D:\src\cpp0\qsort.c
_TEXT	SEGMENT
pivotIndex$ = 32
data$ = 64
low$ = 72
high$ = 80
quicksort PROC

; 60   : {

$LN4:
	mov	DWORD PTR [rsp+24], r8d
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 56					; 00000038H

; 61   :     if (low >= high)

	mov	eax, DWORD PTR high$[rsp]
	cmp	DWORD PTR low$[rsp], eax
	jl	SHORT $LN2@quicksort

; 62   :         return;

	jmp	SHORT $LN1@quicksort
$LN2@quicksort:

; 63   :     int pivotIndex = partition2(data, low, high);

	mov	r8d, DWORD PTR high$[rsp]
	mov	edx, DWORD PTR low$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	call	partition2
	mov	DWORD PTR pivotIndex$[rsp], eax

; 64   :     quicksort(data, low, pivotIndex - 1);

	mov	eax, DWORD PTR pivotIndex$[rsp]
	dec	eax
	mov	r8d, eax
	mov	edx, DWORD PTR low$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	call	quicksort

; 65   :     quicksort(data, pivotIndex + 1, high);

	mov	eax, DWORD PTR pivotIndex$[rsp]
	inc	eax
	mov	r8d, DWORD PTR high$[rsp]
	mov	edx, eax
	mov	rcx, QWORD PTR data$[rsp]
	call	quicksort
	npad	1
$LN1@quicksort:

; 66   : }

	add	rsp, 56					; 00000038H
	ret	0
quicksort ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File D:\src\cpp0\qsort.c
_TEXT	SEGMENT
i$ = 0
j$ = 4
tmp$ = 8
pivot$ = 12
data$ = 32
low$ = 40
high$ = 48
partition2 PROC

; 29   : {

$LN5:
	mov	DWORD PTR [rsp+24], r8d
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 24

; 30   :     int pivot = data[high];

	movsxd	rax, DWORD PTR high$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR pivot$[rsp], eax

; 31   :     int i = low - 1;

	mov	eax, DWORD PTR low$[rsp]
	dec	eax
	mov	DWORD PTR i$[rsp], eax

; 32   :     int tmp;
; 33   :     int j = low;

	mov	eax, DWORD PTR low$[rsp]
	mov	DWORD PTR j$[rsp], eax
$swap_loop$6:

; 34   :
; 35   : swap_loop:
; 36   :     if (j >= high)

	mov	eax, DWORD PTR high$[rsp]
	cmp	DWORD PTR j$[rsp], eax
	jl	SHORT $LN2@partition2

; 37   :         goto swap_loop_finish;

	jmp	SHORT $swap_loop_finish$7
$LN2@partition2:

; 38   :
; 39   :     if (data[j] > pivot)

	movsxd	rax, DWORD PTR j$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR pivot$[rsp]
	cmp	DWORD PTR [rcx+rax*4], edx
	jle	SHORT $LN3@partition2

; 40   :         goto swap_loop_next;

	jmp	SHORT $swap_loop_next$8
$LN3@partition2:

; 41   :
; 42   :     i++;

	mov	eax, DWORD PTR i$[rsp]
	inc	eax
	mov	DWORD PTR i$[rsp], eax

; 43   :     tmp = data[i];

	movsxd	rax, DWORD PTR i$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR tmp$[rsp], eax

; 44   :     data[i] = data[j];

	movsxd	rax, DWORD PTR j$[rsp]
	movsxd	rcx, DWORD PTR i$[rsp]
	mov	rdx, QWORD PTR data$[rsp]
	mov	r8, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [r8+rax*4]
	mov	DWORD PTR [rdx+rcx*4], eax

; 45   :     data[j] = tmp;

	movsxd	rax, DWORD PTR j$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR tmp$[rsp]
	mov	DWORD PTR [rcx+rax*4], edx
$swap_loop_next$8:

; 46   :
; 47   : swap_loop_next:
; 48   :     j++;

	mov	eax, DWORD PTR j$[rsp]
	inc	eax
	mov	DWORD PTR j$[rsp], eax

; 49   :     goto swap_loop;

	jmp	SHORT $swap_loop$6
$swap_loop_finish$7:

; 50   :
; 51   : swap_loop_finish:
; 52   :     tmp = data[i + 1];

	mov	eax, DWORD PTR i$[rsp]
	inc	eax
	cdqe
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR tmp$[rsp], eax

; 53   :     data[i + 1] = data[high];

	movsxd	rax, DWORD PTR high$[rsp]
	mov	ecx, DWORD PTR i$[rsp]
	inc	ecx
	movsxd	rcx, ecx
	mov	rdx, QWORD PTR data$[rsp]
	mov	r8, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [r8+rax*4]
	mov	DWORD PTR [rdx+rcx*4], eax

; 54   :     data[high] = tmp;

	movsxd	rax, DWORD PTR high$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR tmp$[rsp]
	mov	DWORD PTR [rcx+rax*4], edx

; 55   :
; 56   :     return i + 1;

	mov	eax, DWORD PTR i$[rsp]
	inc	eax

; 57   : }

	add	rsp, 24
	ret	0
partition2 ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File D:\src\cpp0\qsort.c
_TEXT	SEGMENT
i$ = 0
j$1 = 4
tmp$ = 8
pivot$ = 12
data$ = 32
low$ = 40
high$ = 48
partition PROC

; 5    : {

$LN7:
	mov	DWORD PTR [rsp+24], r8d
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 24

; 6    :     int pivot = data[high];

	movsxd	rax, DWORD PTR high$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR pivot$[rsp], eax

; 7    :     int i = low - 1;

	mov	eax, DWORD PTR low$[rsp]
	dec	eax
	mov	DWORD PTR i$[rsp], eax

; 8    :     int tmp;
; 9    :     for (int j = low; j < high; j++)

	mov	eax, DWORD PTR low$[rsp]
	mov	DWORD PTR j$1[rsp], eax
	jmp	SHORT $LN4@partition
$LN2@partition:
	mov	eax, DWORD PTR j$1[rsp]
	inc	eax
	mov	DWORD PTR j$1[rsp], eax
$LN4@partition:
	mov	eax, DWORD PTR high$[rsp]
	cmp	DWORD PTR j$1[rsp], eax
	jge	SHORT $LN3@partition

; 10   :     {
; 11   :         if (data[j] <= pivot)

	movsxd	rax, DWORD PTR j$1[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR pivot$[rsp]
	cmp	DWORD PTR [rcx+rax*4], edx
	jg	SHORT $LN5@partition

; 12   :         {
; 13   :             i++;

	mov	eax, DWORD PTR i$[rsp]
	inc	eax
	mov	DWORD PTR i$[rsp], eax

; 14   :             tmp = data[i];

	movsxd	rax, DWORD PTR i$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR tmp$[rsp], eax

; 15   :             data[i] = data[j];

	movsxd	rax, DWORD PTR j$1[rsp]
	movsxd	rcx, DWORD PTR i$[rsp]
	mov	rdx, QWORD PTR data$[rsp]
	mov	r8, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [r8+rax*4]
	mov	DWORD PTR [rdx+rcx*4], eax

; 16   :             data[j] = tmp;

	movsxd	rax, DWORD PTR j$1[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR tmp$[rsp]
	mov	DWORD PTR [rcx+rax*4], edx
$LN5@partition:

; 17   :         }
; 18   :     }

	jmp	SHORT $LN2@partition
$LN3@partition:

; 19   : 
; 20   :     tmp = data[i + 1];

	mov	eax, DWORD PTR i$[rsp]
	inc	eax
	cdqe
	mov	rcx, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [rcx+rax*4]
	mov	DWORD PTR tmp$[rsp], eax

; 21   :     data[i + 1] = data[high];

	movsxd	rax, DWORD PTR high$[rsp]
	mov	ecx, DWORD PTR i$[rsp]
	inc	ecx
	movsxd	rcx, ecx
	mov	rdx, QWORD PTR data$[rsp]
	mov	r8, QWORD PTR data$[rsp]
	mov	eax, DWORD PTR [r8+rax*4]
	mov	DWORD PTR [rdx+rcx*4], eax

; 22   :     data[high] = tmp;

	movsxd	rax, DWORD PTR high$[rsp]
	mov	rcx, QWORD PTR data$[rsp]
	mov	edx, DWORD PTR tmp$[rsp]
	mov	DWORD PTR [rcx+rax*4], edx

; 23   : 
; 24   :     return i + 1;

	mov	eax, DWORD PTR i$[rsp]
	inc	eax

; 25   : }

	add	rsp, 24
	ret	0
partition ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.26100.0\ucrt\stdio.h
;	COMDAT printf
_TEXT	SEGMENT
_Result$ = 32
_ArgList$ = 40
_Format$ = 64
printf	PROC						; COMDAT

; 956  :     {

$LN3:
	mov	QWORD PTR [rsp+8], rcx
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+32], r9
	sub	rsp, 56					; 00000038H

; 957  :         int _Result;
; 958  :         va_list _ArgList;
; 959  :         __crt_va_start(_ArgList, _Format);

	lea	rax, QWORD PTR _Format$[rsp+8]
	mov	QWORD PTR _ArgList$[rsp], rax

; 960  :         _Result = _vfprintf_l(stdout, _Format, NULL, _ArgList);

	mov	ecx, 1
	call	__acrt_iob_func
	mov	r9, QWORD PTR _ArgList$[rsp]
	xor	r8d, r8d
	mov	rdx, QWORD PTR _Format$[rsp]
	mov	rcx, rax
	call	_vfprintf_l
	mov	DWORD PTR _Result$[rsp], eax

; 961  :         __crt_va_end(_ArgList);

	mov	QWORD PTR _ArgList$[rsp], 0

; 962  :         return _Result;

	mov	eax, DWORD PTR _Result$[rsp]

; 963  :     }

	add	rsp, 56					; 00000038H
	ret	0
printf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.26100.0\ucrt\stdio.h
;	COMDAT _vfprintf_l
_TEXT	SEGMENT
_Stream$ = 64
_Format$ = 72
_Locale$ = 80
_ArgList$ = 88
_vfprintf_l PROC					; COMDAT

; 644  :     {

$LN3:
	mov	QWORD PTR [rsp+32], r9
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 56					; 00000038H

; 645  :         return __stdio_common_vfprintf(_CRT_INTERNAL_LOCAL_PRINTF_OPTIONS, _Stream, _Format, _Locale, _ArgList);

	call	__local_stdio_printf_options
	mov	rcx, QWORD PTR _ArgList$[rsp]
	mov	QWORD PTR [rsp+32], rcx
	mov	r9, QWORD PTR _Locale$[rsp]
	mov	r8, QWORD PTR _Format$[rsp]
	mov	rdx, QWORD PTR _Stream$[rsp]
	mov	rcx, QWORD PTR [rax]
	call	__stdio_common_vfprintf

; 646  :     }

	add	rsp, 56					; 00000038H
	ret	0
_vfprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.26100.0\ucrt\corecrt_stdio_config.h
;	COMDAT __local_stdio_printf_options
_TEXT	SEGMENT
__local_stdio_printf_options PROC			; COMDAT

; 91   :         static unsigned __int64 _OptionsStorage;
; 92   :         return &_OptionsStorage;

	lea	rax, OFFSET FLAT:?_OptionsStorage@?1??__local_stdio_printf_options@@9@9 ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 93   :     }

	ret	0
__local_stdio_printf_options ENDP
_TEXT	ENDS
END
